# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–ª—è VIEW —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞

## –í–∞–∂–Ω–æ: –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–ª—è VIEW

**VIEW –≤ Oracle –Ω–µ –∏–º–µ—é—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏** - Oracle –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –±–∞–∑–æ–≤—ã—Ö —Ç–∞–±–ª–∏—Ü –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ VIEW.

## –ö–æ–≥–¥–∞ —Å–æ–±–∏—Ä–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É

### ‚úÖ –ù—É–∂–Ω–æ —Å–æ–±–∏—Ä–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É:
1. **–ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö** - –∫–æ–≥–¥–∞ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –±–∞–∑–æ–≤—ã–µ —Ç–∞–±–ª–∏—Ü—ã
2. **–ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏** - —Ä–∞–∑ –≤ –Ω–µ–¥–µ–ª—é/–º–µ—Å—è—Ü –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏—è –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç–∏
3. **–ü–æ—Å–ª–µ –±–æ–ª—å—à–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –¥–∞–Ω–Ω—ã—Ö** - –∫–æ–≥–¥–∞ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è/—É–¥–∞–ª—è—é—Ç—Å—è –±–æ–ª—å—à–∏–µ –æ–±—ä–µ–º—ã –¥–∞–Ω–Ω—ã—Ö

### ‚ùå –ù–ï –Ω—É–∂–Ω–æ —Å–æ–±–∏—Ä–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É:
1. **–ü—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ –∫ VIEW** - —ç—Ç–æ –∏–∑–±—ã—Ç–æ—á–Ω–æ –∏ –º–µ–¥–ª–µ–Ω–Ω–æ
2. **–î–ª—è —Å–∞–º–∏—Ö VIEW** - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –±–∞–∑–æ–≤—ã—Ö —Ç–∞–±–ª–∏—Ü
3. **–ß–∞—â–µ —Ä–∞–∑–∞ –≤ –¥–µ–Ω—å** - –æ–±—ã—á–Ω–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ä–∞–∑ –≤ –Ω–µ–¥–µ–ª—é

## –ë–∞–∑–æ–≤—ã–µ —Ç–∞–±–ª–∏—Ü—ã –¥–ª—è VIEW —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞

VIEW `V_PROFITABILITY_BY_PERIOD`, `V_PROFITABILITY_TREND`, `V_UNPROFITABLE_CUSTOMERS` –∏—Å–ø–æ–ª—å–∑—É—é—Ç:

### –ü—Ä—è–º—ã–µ —Ç–∞–±–ª–∏—Ü—ã:
- `BM_INVOICE_ITEM` - –¥–ª—è –∫—É—Ä—Å–∞ –≤–∞–ª—é—Ç –∏–∑ —Å—á–µ—Ç–æ–≤-—Ñ–∞–∫—Ç—É—Ä
- `BM_PERIOD` - –¥–ª—è –ø–µ—Ä–∏–æ–¥–æ–≤

### –ß–µ—Ä–µ–∑ –¥—Ä—É–≥–∏–µ VIEW:
- `V_CONSOLIDATED_REPORT_WITH_BILLING` ‚Üí `STECCOM_EXPENSES`, `SPNET_TRAFFIC`
- `V_REVENUE_FROM_INVOICES` ‚Üí `BM_INVOICE`, `BM_INVOICE_ITEM`, `SERVICES`, `BM_RESOURCE_TYPE`

## –°–±–æ—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∫—Ä–∏–ø—Ç `gather_stats_financial_analysis.sh`:

```bash
cd /usr/local/projects/ai_report
./deploy/gather_stats_financial_analysis.sh
```

–°–∫—Ä–∏–ø—Ç —Å–æ–±–∏—Ä–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –¥–ª—è –≤—Å–µ—Ö –±–∞–∑–æ–≤—ã—Ö —Ç–∞–±–ª–∏—Ü, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –≤ VIEW —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞.

## –ü–ª–∞–Ω –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (EXPLAIN PLAN)

–ü–ª–∞–Ω –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø–æ–ª–µ–∑–µ–Ω –¥–ª—è:
- **–ê–Ω–∞–ª–∏–∑–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏** - –ø–æ–Ω–∏–º–∞–Ω–∏–µ, –∫–∞–∫ Oracle –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∑–∞–ø—Ä–æ—Å
- **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤** - –≤—ã—è–≤–ª–µ–Ω–∏–µ —É–∑–∫–∏—Ö –º–µ—Å—Ç
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞** - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –ø–ª–∞–Ω–∞—Ö

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫—É "üìà –°–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π" –≤ Streamlit –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ VIEW.

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å VIEW

VIEW —Ç–∏–ø–∞ `V_PROFITABILITY_BY_PERIOD` —É–∂–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã:
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç –∞–≥—Ä–µ–≥–∞—Ü–∏—é –Ω–∞ —É—Ä–æ–≤–Ω–µ –±–∞–∑–æ–≤—ã—Ö —Ç–∞–±–ª–∏—Ü
- –ò–º–µ—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ JOIN —É—Å–ª–æ–≤–∏—è
- –§–∏–ª—å—Ç—Ä—É—é—Ç –¥–∞–Ω–Ω—ã–µ –¥–æ –∞–≥—Ä–µ–≥–∞—Ü–∏–∏

**–ü–æ—Å–ª–µ —Å–±–æ—Ä–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ –±–∞–∑–æ–≤—ã–º —Ç–∞–±–ª–∏—Ü–∞–º –∑–∞–ø—Ä–æ—Å—ã –∫ VIEW –±—É–¥—É—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –±—ã—Å—Ç—Ä–æ.**

