# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ Streamlit –∏ –æ—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞

## –ë—ã—Å—Ç—Ä—ã–π —Å–ø–æ—Å–æ–±

```bash
# –ê–∫–∫—É—Ä–∞—Ç–Ω—ã–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å –æ—á–∏—Å—Ç–∫–æ–π –∫—ç—à–∞
./restart_streamlit.sh
```

## –ü–æ—à–∞–≥–æ–≤—ã–π —Å–ø–æ—Å–æ–±

### 1. –û—Å—Ç–∞–Ω–æ–≤–∫–∞ Streamlit

```bash
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞
./stop_streamlit.sh

# –ò–ª–∏ –≤—Ä—É—á–Ω—É—é
kill $(cat streamlit_8504.pid)
```

### 2. –û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞

#### –ö—ç—à –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ restart_streamlit.sh)

```bash
# –ö—ç—à Streamlit
rm -rf ~/.streamlit/cache/*

# –õ–æ–∫–∞–ª—å–Ω—ã–π –∫—ç—à (–µ—Å–ª–∏ –µ—Å—Ç—å)
rm -rf .streamlit/cache/*
```

#### –ö—ç—à –≤ –±—Ä–∞—É–∑–µ—Ä–µ

**Chrome/Edge:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ DevTools (F12)
2. –ü—Ä–∞–≤—ã–π –∫–ª–∏–∫ –Ω–∞ –∫–Ω–æ–ø–∫—É –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã
3. –í—ã–±–µ—Ä–∏—Ç–µ "–û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à –∏ –∂–µ—Å—Ç–∫–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞" (Empty Cache and Hard Reload)

**–ò–ª–∏ —á–µ—Ä–µ–∑ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:**
1. Ctrl+Shift+Delete (Windows/Linux) –∏–ª–∏ Cmd+Shift+Delete (Mac)
2. –í—ã–±–µ—Ä–∏—Ç–µ "–ö—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ —Ñ–∞–π–ª—ã"
3. –ù–∞–∂–º–∏—Ç–µ "–û—á–∏—Å—Ç–∏—Ç—å –¥–∞–Ω–Ω—ã–µ"

**Firefox:**
1. Ctrl+Shift+Delete (Windows/Linux) –∏–ª–∏ Cmd+Shift+Delete (Mac)
2. –í—ã–±–µ—Ä–∏—Ç–µ "–ö—ç—à"
3. –ù–∞–∂–º–∏—Ç–µ "–û—á–∏—Å—Ç–∏—Ç—å —Å–µ–π—á–∞—Å"

### 3. –ó–∞–ø—É—Å–∫ Streamlit

```bash
./run_streamlit_background.sh
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
./status_streamlit.sh

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
tail -f streamlit_8504.log
```

## –û—á–∏—Å—Ç–∫–∞ session_state –≤ Streamlit

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –æ—á–∏—Å—Ç–∏—Ç—å –∫—ç—à –±–µ–∑ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞, –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:

```python
if st.button("üîÑ –û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à"):
    st.cache_data.clear()
    if 'last_report_df' in st.session_state:
        del st.session_state['last_report_df']
    if 'last_report_key' in st.session_state:
        del st.session_state['last_report_key']
    st.success("–ö—ç—à –æ—á–∏—â–µ–Ω!")
    st.rerun()
```

## –¢–∏–ø—ã –∫—ç—à–∞ –≤ Streamlit

1. **`@st.cache_data`** - –∫—ç—à –¥–∞–Ω–Ω—ã—Ö (TTL = 5 –º–∏–Ω—É—Ç)
   - –û—á–∏—â–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ 5 –º–∏–Ω—É—Ç
   - –ú–æ–∂–Ω–æ –æ—á–∏—Å—Ç–∏—Ç—å —á–µ—Ä–µ–∑ `st.cache_data.clear()`

2. **`st.session_state`** - —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–µ—Å—Å–∏–∏
   - –û—á–∏—â–∞–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ Streamlit
   - –•—Ä–∞–Ω–∏—Ç: `last_report_df`, `last_report_key`, `selected_period_index`

3. **–ö—ç—à –±—Ä–∞—É–∑–µ—Ä–∞** - –∫—ç—à —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤
   - –û—á–∏—â–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±—Ä–∞—É–∑–µ—Ä–∞ –∏–ª–∏ DevTools

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: –î–∞–Ω–Ω—ã–µ –Ω–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –±–∞–∑–µ

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Streamlit: `./restart_streamlit.sh`
2. –û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à –±—Ä–∞—É–∑–µ—Ä–∞ (Ctrl+Shift+Delete)
3. –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É (Ctrl+F5 –∏–ª–∏ Cmd+Shift+R)

### –ü—Ä–æ–±–ª–µ–º–∞: Streamlit –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –Ω–µ –∑–∞–ø—É—â–µ–Ω –ª–∏ —É–∂–µ –ø—Ä–æ—Ü–µ—Å—Å:
   ```bash
   ./status_streamlit.sh
   ```
2. –ï—Å–ª–∏ –ø—Ä–æ—Ü–µ—Å—Å –∑–∞–≤–∏—Å, –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ:
   ```bash
   ./stop_streamlit.sh
   # –ò–ª–∏
   pkill -9 -f "streamlit.*8504"
   ```
3. –£–¥–∞–ª–∏—Ç–µ PID —Ñ–∞–π–ª:
   ```bash
   rm streamlit_8504.pid
   ```
4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∑–∞–Ω–æ–≤–æ:
   ```bash
   ./run_streamlit_background.sh
   ```

### –ü—Ä–æ–±–ª–µ–º–∞: –ü–æ—Ä—Ç –∑–∞–Ω—è—Ç

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ù–∞–π—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å –Ω–∞ –ø–æ—Ä—Ç—É 8504
lsof -i :8504

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å
kill $(lsof -t -i :8504)
```

## –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—á–∏—â–∞—Ç—å –∫—ç—à –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –Ω–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö, –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ —Å–∫—Ä–∏–ø—Ç—ã –∑–∞–≥—Ä—É–∑–∫–∏:

```python
# –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö
import streamlit as st
if hasattr(st, 'cache_data'):
    st.cache_data.clear()
```

