# Iridium M2M Overage Report - Summary

## ‚úÖ –ì–æ—Ç–æ–≤–æ

### –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- **URL:** http://localhost:8502
- **–°—Ç–∞—Ç—É—Å:** –ó–∞–ø—É—â–µ–Ω–æ
- **–¢–∏–ø:** –£–ø—Ä–æ—â–µ–Ω–Ω—ã–π –æ—Ç—á–µ—Ç (–±–µ–∑ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫, –±–µ–∑ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞)

### –§–æ–∫—É—Å
- **–¢–æ–ª—å–∫–æ SBD-1 –∏ SBD-10** (—Ä–µ–∞–ª—å–Ω—ã–µ —Ü–µ–Ω—ã –∏–∑ –¢–ó)
- **–ù–∞–∑–≤–∞–Ω–∏—è –∫–æ–ª–æ–Ω–æ–∫:** –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º –∫–∞–∫ –≤ CSV
- **–î–∞–Ω–Ω—ã–µ:** —Ç–æ–ª—å–∫–æ –∏–∑ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö CSV —Ñ–∞–π–ª–æ–≤
- **–ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è:** 1 KB = 1000 bytes

## üìä –î–∞–Ω–Ω—ã–µ

### –¢–µ–∫—É—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- **–ó–∞–ø–∏—Å–µ–π:** 4,225 (–¥–ª—è SBD-10)
- **–£—Å—Ç—Ä–æ–π—Å—Ç–≤ (IMEI):** 1,213
- **–ü—Ä–µ–≤—ã—à–µ–Ω–∏–µ:** $26,529.07

### –¢–∞—Ä–∏—Ñ—ã

#### SBD-1 (SBD Tiered 1250 1K)
```
–í–∫–ª—é—á–µ–Ω–æ: 1 KB
  1-10 KB:  $1.50/KB
 10-25 KB:  $0.75/KB
    25+ KB:  $0.50/KB
```

#### SBD-10 (SBD Tiered 1250 10K)
```
–í–∫–ª—é—á–µ–Ω–æ: 10 KB
 10-25 KB:  $0.30/KB
 25-50 KB:  $0.20/KB
    50+ KB:  $0.10/KB
```

## üîç –§–∏–ª—å—Ç—Ä—ã

- **Period** - –≤—ã–±–æ—Ä –º–µ—Å—è—Ü–∞ (All Periods / 2025-09 / 2025-08 / ...)
- **Plan** - –≤—ã–±–æ—Ä —Ç–∞—Ä–∏—Ñ–∞ (All Plans / SBD-1 / SBD-10)

## üì• –≠–∫—Å–ø–æ—Ä—Ç

- **CSV** - —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç
- **Excel** - —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π XLSX (—Ç—Ä–µ–±—É–µ—Ç openpyxl)

## üìã –ö–æ–ª–æ–Ω–∫–∏ –æ—Ç—á–µ—Ç–∞

1. **IMEI** - –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
2. **Contract ID** - –Ω–æ–º–µ—Ä –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞
3. **Plan Name** - –Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–∞—Ä–∏—Ñ–∞
4. **Bill Month** - –ø–µ—Ä–∏–æ–¥ (YYYY-MM)
5. **Usage (KB)** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ
6. **Included (KB)** - –≤–∫–ª—é—á–µ–Ω–æ –≤ —Ç–∞—Ä–∏—Ñ
7. **Overage (KB)** - –ø—Ä–µ–≤—ã—à–µ–Ω–∏–µ
8. **Calculated Overage ($)** - —Ä–∞—Å—á–µ—Ç–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –ø—Ä–µ–≤—ã—à–µ–Ω–∏—è
9. **SPNet Total Amount ($)** - —Å—É–º–º–∞ –∏–∑ SPNet
10. **Advance Charge ($)** - –∞–±–æ–Ω–ø–ª–∞—Ç–∞
11. **STECCOM Total Amount ($)** - –æ–±—â–∞—è —Å—É–º–º–∞ STECCOM
12. **Overage Diff ($)** - —Ä–∞–∑–Ω–∏—Ü–∞ (Calculated - SPNet)
13. **Total Diff ($)** - —Ä–∞–∑–Ω–∏—Ü–∞ (Calculated + Advance - STECCOM)

## üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

**PostgreSQL (—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)**
```
Host:     localhost
Port:     5432
Database: billing
User:     postgres
Password: 1234
```

## üöÄ –ö–æ–º–∞–Ω–¥—ã

### –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
```bash
cd /mnt/ai/cnn/ai_report
streamlit run streamlit_report.py --server.port 8502
```

### –û—Å—Ç–∞–Ω–æ–≤–∫–∞
```bash
pkill -f streamlit
```

### –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
```bash
python3 load_data_postgres.py
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö
```bash
PGPASSWORD=1234 psql -h localhost -p 5432 -U postgres -d billing -c "
SELECT COUNT(*), PLAN_NAME FROM V_CONSOLIDATED_OVERAGE_REPORT 
WHERE PLAN_NAME IN ('SBD Tiered 1250 1K', 'SBD Tiered 1250 10K')
GROUP BY PLAN_NAME;
"
```

## üìÅ –§–∞–π–ª—ã

### –û—Å–Ω–æ–≤–Ω—ã–µ
- `streamlit_report.py` - web-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- `setup_postgres.sql` - —Å—Ö–µ–º–∞ –ë–î PostgreSQL
- `load_data_postgres.py` - –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- `README.md` - –æ–±—â–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- `TZ.md` - —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ
- `CHANGELOG.md` - –∏—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
- `SUMMARY.md` - —ç—Ç–æ—Ç —Ñ–∞–π–ª

### –î–ª—è Oracle (–ø—Ä–æ–¥–∞–∫—à–µ–Ω)
- `oracle_tables.sql` - —Å—Ö–µ–º–∞ Oracle
- `create_tariff_plans.sql` - —Ç–∞—Ä–∏—Ñ—ã Oracle
- `load_spnet_traffic.py` - –∑–∞–≥—Ä—É–∑–∫–∞ SPNet –≤ Oracle
- `load_steccom_expenses.py` - –∑–∞–≥—Ä—É–∑–∫–∞ STECCOM –≤ Oracle
- `streamlit_report_oracle.py` - –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è Oracle

## ‚ö†Ô∏è –í–∞–∂–Ω–æ

1. **–¢–æ–ª—å–∫–æ SBD-1 –∏ SBD-10** - –¥—Ä—É–≥–∏–µ —Ç–∞—Ä–∏—Ñ—ã –Ω–µ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è
2. **1 KB = 1000 bytes** - –¥–µ—Å—è—Ç–∏—á–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ (–Ω–µ 1024)
3. **–ù–∞–∑–≤–∞–Ω–∏—è –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º** - —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç CSV
4. **–ù–∏–∫–∞–∫–∏—Ö –≤—ã–¥—É–º–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö** - —Ç–æ–ª—å–∫–æ –∏–∑ CSV —Ñ–∞–π–ª–æ–≤

## üìß –ö–æ–Ω—Ç–∞–∫—Ç—ã

–î–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ –ø–æ –¥–∞–Ω–Ω—ã–º –∏–ª–∏ –æ—Ç—á–µ—Ç—É –æ–±—Ä–∞—â–∞–π—Ç–µ—Å—å –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É —Å–∏—Å—Ç–µ–º—ã.


