# –§–∏–Ω–∞–ª—å–Ω–∞—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –ø–æ –≤—ã–±–æ—Ä—É –≤–µ–∫—Ç–æ—Ä–Ω–æ–π –ë–î –¥–ª—è KB_billing

## –ê–Ω–∞–ª–∏–∑ –≤–∞—à–µ–π —Å–ø–µ—Ü–∏—Ñ–∏–∫–∏

### –¢–µ–∫—É—â–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞:
- ‚úÖ **Oracle Database** - –æ—Å–Ω–æ–≤–Ω–∞—è –ë–î (production)
- ‚úÖ **Python** - –æ—Å–Ω–æ–≤–Ω–æ–π —è–∑—ã–∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- ‚úÖ **Streamlit** - –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- ‚úÖ **–£–º–µ—Ä–µ–Ω–Ω—ã–π –æ–±—ä–µ–º –¥–∞–Ω–Ω—ã—Ö** - 17 —Ç–∞–±–ª–∏—Ü + 4 –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è, 24 Q/A –ø—Ä–∏–º–µ—Ä–∞

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –≤–µ–∫—Ç–æ—Ä–Ω–æ–π –ë–î:
- ‚úÖ **–†—É—Å—Å–∫–∏–π —è–∑—ã–∫** - –∫—Ä–∏—Ç–∏—á–Ω–æ (–≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã –∏ –æ–ø–∏—Å–∞–Ω–∏—è –Ω–∞ —Ä—É—Å—Å–∫–æ–º)
- ‚úÖ **–ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–∏—Å–∫** - —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π + —Ñ–∏–ª—å—Ç—Ä—ã –ø–æ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º
- ‚úÖ **–ü—Ä–æ—Å—Ç–æ—Ç–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏** - —Å Python —Å—Ç–µ–∫–æ–º
- ‚úÖ **–ü—Ä–æ—Å—Ç–æ—Ç–∞ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è** - –º–∏–Ω–∏–º—É–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- ‚úÖ **–¢–æ—á–Ω–æ—Å—Ç—å –ø–æ–∏—Å–∫–∞** - –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è SQL –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

---

## –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤

### ü•á **Qdrant** - –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è

#### ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –¥–ª—è –≤–∞—à–µ–≥–æ —Å–ª—É—á–∞—è:

1. **–û–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –∏ –ø—Ä–æ—Å—Ç–æ—Ç—ã**
   - –ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–∏—Å–∫ –∏–∑ –∫–æ—Ä–æ–±–∫–∏ (–≤–µ–∫—Ç–æ—Ä–Ω—ã–π + —Ñ–∏–ª—å—Ç—Ä—ã)
   - Payload —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏–¥–µ–∞–ª—å–Ω–æ –¥–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
   - –ù–µ —Ç—Ä–µ–±—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (–æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å)

2. **–û—Ç–ª–∏—á–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞**
   - –†–∞–±–æ—Ç–∞–µ—Ç —Å –ª—é–±—ã–º–∏ —ç–º–±–µ–¥–¥–∏–Ω–≥–∞–º–∏ (multilingual-e5-large, rubert-tiny2)
   - –ù–µ —Ç—Ä–µ–±—É–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è —Ä—É—Å—Å–∫–æ–≥–æ

3. **–ü—Ä–æ—Å—Ç–æ—Ç–∞ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è**
   ```bash
   # –û–¥–∏–Ω Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
   docker run -p 6333:6333 qdrant/qdrant
   ```
   - –õ–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π (~200MB –æ–±—Ä–∞–∑)
   - –ù–µ —Ç—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ë–î
   - REST API –∏–∑ –∫–æ—Ä–æ–±–∫–∏

4. **Python-first –ø–æ–¥—Ö–æ–¥**
   ```python
   from qdrant_client import QdrantClient
   
   client = QdrantClient("localhost", port=6333)
   # –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
   ```
   - –ü—Ä–æ—Å—Ç–æ–π Python –∫–ª–∏–µ–Ω—Ç
   - –•–æ—Ä–æ—à–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
   - –ê–∫—Ç–∏–≤–Ω–æ–µ —Å–æ–æ–±—â–µ—Å—Ç–≤–æ

5. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**
   - –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è –≤–µ–∫—Ç–æ—Ä–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞
   - –•–æ—Ä–æ—à–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –Ω–∞ –Ω–µ–±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–º–∞—Ö (–≤–∞—à —Å–ª—É—á–∞–π)
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏–Ω–¥–µ–∫—Å–æ–≤ HNSW –∏–∑ –∫–æ—Ä–æ–±–∫–∏

#### ‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:
- –¢—Ä–µ–±—É–µ—Ç –æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å (–Ω–æ –ª–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π)
- –ù–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å Oracle (–Ω–æ —ç—Ç–æ –Ω–µ –ø—Ä–æ–±–ª–µ–º–∞ - –æ—Ç–¥–µ–ª—å–Ω–∞—è –∑–∞–¥–∞—á–∞)

#### üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å:
- **Open Source** (Apache 2.0)
- **Cloud –≤–µ—Ä—Å–∏—è** –¥–æ—Å—Ç—É–ø–Ω–∞ (–Ω–æ –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞)

---

### ü•à **pgvector (PostgreSQL)** - –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞

#### ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:

1. **–ó–Ω–∞–∫–æ–º—ã–π —Å—Ç–µ–∫**
   - SQL –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–µ—Å–ª–∏ –∫–æ–º–∞–Ω–¥–∞ –∑–Ω–∞–µ—Ç SQL)
   - –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π PostgreSQL (–µ—Å–ª–∏ –µ—Å—Ç—å)

2. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –¥–∞–Ω–Ω—ã–º–∏**
   - –ú–æ–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å —Ä—è–¥–æ–º —Å –¥—Ä—É–≥–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏
   - –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –∏ ACID

3. **–ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–∏—Å–∫ —á–µ—Ä–µ–∑ SQL**
   ```sql
   SELECT content, 1 - (embedding <=> %s::vector) as similarity
   FROM kb_billing_vectors
   WHERE type = 'qa_example'
   ORDER BY embedding <=> %s::vector
   LIMIT 5;
   ```

#### ‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏ –¥–ª—è –≤–∞—à–µ–≥–æ —Å–ª—É—á–∞—è:

1. **–¢—Ä–µ–±—É–µ—Ç PostgreSQL**
   - –£ –≤–∞—Å Oracle –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω–∞—è –ë–î
   - –ù—É–∂–µ–Ω –æ—Ç–¥–µ–ª—å–Ω—ã–π PostgreSQL —Å–µ—Ä–≤–µ—Ä
   - –ë–æ–ª—å—à–µ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏

2. **–ú–µ–Ω–µ–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è –≤–µ–∫—Ç–æ—Ä–æ–≤**
   - –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è –±—ã—Å—Ç—Ä–µ–µ
   - –¢—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫—É –∏–Ω–¥–µ–∫—Å–æ–≤ (ivfflat, hnsw)

3. **–ë–æ–ª–µ–µ —Å–ª–æ–∂–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞**
   - –ù—É–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ pgvector
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∏–Ω–¥–µ–∫—Å—ã
   - –ë–æ–ª—å—à–µ —à–∞–≥–æ–≤ –¥–ª—è –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç—ã

#### üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å:
- **Open Source** (PostgreSQL + pgvector)
- –ù–æ —Ç—Ä–µ–±—É–µ—Ç –±–æ–ª—å—à–µ —Ä–µ—Å—É—Ä—Å–æ–≤ (–æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä)

---

### ü•â **Chroma** - –î–ª—è –ø—Ä–æ—Ç–æ—Ç–∏–ø–∏—Ä–æ–≤–∞–Ω–∏—è

#### ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:

1. **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø—Ä–æ—Å—Ç–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**
   ```python
   import chromadb
   client = chromadb.Client()
   # –ì–æ—Ç–æ–≤–æ!
   ```

2. **Embedded —Ä–µ–∂–∏–º**
   - –ù–µ —Ç—Ä–µ–±—É–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
   - –ú–æ–∂–Ω–æ –≤—Å—Ç—Ä–æ–∏—Ç—å –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

3. **Python-first**
   - –û—á–µ–Ω—å –ø—Ä–æ—Å—Ç–æ–π API
   - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

#### ‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:

1. **–ú–µ–Ω—å—à–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π**
   - –ú–µ–Ω–µ–µ –≥–∏–±–∫–∏–µ —Ñ–∏–ª—å—Ç—Ä—ã —á–µ–º Qdrant
   - –ú–µ–Ω—å—à–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

2. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**
   - –ú–µ–Ω–µ–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–º–æ–≤
   - –ù–æ –¥–ª—è –≤–∞—à–µ–≥–æ –æ–±—ä–µ–º–∞ (24 –ø—Ä–∏–º–µ—Ä–∞) –º–æ–∂–µ—Ç –±—ã—Ç—å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ

#### üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å:
- **Open Source** (Apache 2.0)

---

## –ò—Ç–æ–≥–æ–≤–∞—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: **Qdrant**

### –ü–æ—á–µ–º—É –∏–º–µ–Ω–Ω–æ Qdrant –¥–ª—è KB_billing:

#### 1. **–û–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å**
- ‚úÖ –ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–∏—Å–∫ –∏–∑ –∫–æ—Ä–æ–±–∫–∏
- ‚úÖ –ü—Ä–æ—Å—Ç–æ—Ç–∞ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è (1 Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä)
- ‚úÖ –û—Ç–ª–∏—á–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–ª—è –≤–∞—à–µ–≥–æ –æ–±—ä–µ–º–∞
- ‚úÖ –•–æ—Ä–æ—à–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞

#### 2. **–ú–∏–Ω–∏–º—É–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**
- ‚úÖ –ù–µ —Ç—Ä–µ–±—É–µ—Ç PostgreSQL (—É –≤–∞—Å Oracle)
- ‚úÖ –û—Ç–¥–µ–ª—å–Ω—ã–π –ª–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π —Å–µ—Ä–≤–∏—Å
- ‚úÖ –ù–µ —É—Å–ª–æ–∂–Ω—è–µ—Ç –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É

#### 3. **–ü—Ä–æ—Å—Ç–æ—Ç–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏**
- ‚úÖ Python –∫–ª–∏–µ–Ω—Ç –∏–∑ –∫–æ—Ä–æ–±–∫–∏
- ‚úÖ REST API –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
- ‚úÖ –•–æ—Ä–æ—à–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

#### 4. **–ì–∏–±–∫–æ—Å—Ç—å**
- ‚úÖ Payload —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –¥–ª—è –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–Ω—ã—Ö —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç–µ–π –≤–µ–∫—Ç–æ—Ä–æ–≤
- ‚úÖ –õ–µ–≥–∫–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏ —Ä–æ—Å—Ç–µ –¥–∞–Ω–Ω—ã—Ö

---

## –ü–ª–∞–Ω –≤–Ω–µ–¥—Ä–µ–Ω–∏—è Qdrant

### –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ (5 –º–∏–Ω—É—Ç)

```bash
# Docker –≤–∞—Ä–∏–∞–Ω—Ç (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
docker run -d \
  --name qdrant \
  -p 6333:6333 \
  -v $(pwd)/qdrant_storage:/qdrant/storage \
  qdrant/qdrant

# –ò–ª–∏ —á–µ—Ä–µ–∑ pip (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
pip install qdrant-client
```

### –®–∞–≥ 2: –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏

```python
from qdrant_client import QdrantClient
from qdrant_client.models import Distance, VectorParams

client = QdrantClient("localhost", port=6333)

# –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –¥–ª—è kb_billing
client.create_collection(
    collection_name="kb_billing",
    vectors_config=VectorParams(
        size=1024,  # –¥–ª—è multilingual-e5-large
        distance=Distance.COSINE
    )
)
```

### –®–∞–≥ 3: –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö

```python
from qdrant_client.models import PointStruct
import json

# –ó–∞–≥—Ä—É–∑–∫–∞ Q/A –ø—Ä–∏–º–µ—Ä–æ–≤
with open('kb_billing/training_data/sql_examples.json') as f:
    examples = json.load(f)

points = []
for i, example in enumerate(examples):
    # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —ç–º–±–µ–¥–¥–∏–Ω–≥–∞ (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–∞—à—É –º–æ–¥–µ–ª—å)
    embedding = model.encode(example['question'])
    
    points.append(PointStruct(
        id=f"qa_{i}",
        vector=embedding.tolist(),
        payload={
            "type": "qa_example",
            "question": example['question'],
            "sql": example['sql'],
            "category": example['category'],
            "complexity": example['complexity'],
            "business_entity": example['business_entity'],
            "table_names": extract_table_names(example['sql'])
        }
    ))

client.upsert(collection_name="kb_billing", points=points)
```

### –®–∞–≥ 4: –ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–∏—Å–∫

```python
# –ü–æ–∏—Å–∫ –ø–æ—Ö–æ–∂–∏—Ö –ø—Ä–∏–º–µ—Ä–æ–≤
query_embedding = model.encode("–ü–æ–∫–∞–∂–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–µ —Ç—Ä–∞—Ñ–∏–∫–∞ –∑–∞ –æ–∫—Ç—è–±—Ä—å")

results = client.search(
    collection_name="kb_billing",
    query_vector=query_embedding.tolist(),
    query_filter={
        "must": [
            {"key": "type", "match": {"value": "qa_example"}},
            {"key": "category", "match": {"value": "–ü—Ä–µ–≤—ã—à–µ–Ω–∏–µ —Ç—Ä–∞—Ñ–∏–∫–∞"}}
        ]
    },
    limit=5
)

# –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–æ–¥–µ—Ä–∂–∞—Ç payload —Å SQL –∑–∞–ø—Ä–æ—Å–∞–º–∏
for result in results:
    print(f"SQL: {result.payload['sql']}")
    print(f"Similarity: {result.score}")
```

---

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: pgvector (–µ—Å–ª–∏ –µ—Å—Ç—å PostgreSQL)

–ï—Å–ª–∏ —É –≤–∞—Å —É–∂–µ –µ—Å—Ç—å PostgreSQL —Å–µ—Ä–≤–µ—Ä –∏ –∫–æ–º–∞–Ω–¥–∞ –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç SQL –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:
- –ó–Ω–∞–∫–æ–º—ã–π —Å—Ç–µ–∫
- –ú–æ–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å —Ä—è–¥–æ–º —Å –¥—Ä—É–≥–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- SQL –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:
- –¢—Ä–µ–±—É–µ—Ç –æ—Ç–¥–µ–ª—å–Ω—ã–π PostgreSQL (—É –≤–∞—Å Oracle)
- –ë–æ–ª—å—à–µ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã
- –ú–µ–Ω–µ–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è –≤–µ–∫—Ç–æ—Ä–æ–≤

### –ö–æ–≥–¥–∞ –≤—ã–±—Ä–∞—Ç—å pgvector:
- ‚úÖ –£–∂–µ –µ—Å—Ç—å PostgreSQL —Å–µ—Ä–≤–µ—Ä
- ‚úÖ –ö–æ–º–∞–Ω–¥–∞ –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç SQL
- ‚úÖ –ù—É–∂–Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –¥—Ä—É–≥–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –≤ PostgreSQL

---

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –ø–æ —ç–º–±–µ–¥–¥–∏–Ω–≥–∞–º

### –î–ª—è Qdrant:

**–í–∞—Ä–∏–∞–Ω—Ç 1: `intfloat/multilingual-e5-large`** (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
- –†–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å: 1024
- –û—Ç–ª–∏—á–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –¥–ª—è —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞
- –•–æ—Ä–æ—à–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å SQL –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π

**–í–∞—Ä–∏–∞–Ω—Ç 2: `cointegrated/rubert-tiny2`** (–ª–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π)
- –†–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å: 312
- –ë—ã—Å—Ç—Ä–∞—è –∏–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏—è
- –ú–µ–Ω—å—à–µ —Ä–µ—Å—É—Ä—Å–æ–≤

```python
from sentence_transformers import SentenceTransformer

# –ó–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–∏
model = SentenceTransformer('intfloat/multilingual-e5-large')

# –≠–º–±–µ–¥–¥–∏–Ω–≥ –¥–ª—è —Ä—É—Å—Å–∫–æ–≥–æ —Ç–µ–∫—Å—Ç–∞
text = "–ü–æ–∫–∞–∂–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–µ —Ç—Ä–∞—Ñ–∏–∫–∞ –∑–∞ –æ–∫—Ç—è–±—Ä—å 2025"
embedding = model.encode(text, normalize_embeddings=True)
```

---

## –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞

| –ö—Ä–∏—Ç–µ—Ä–∏–π | Qdrant | pgvector | Chroma |
|----------|--------|----------|--------|
| **–ü—Ä–æ—Å—Ç–æ—Ç–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏** | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê |
| **–ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–∏—Å–∫** | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê |
| **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä—É—Å—Å–∫–æ–≥–æ** | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê |
| **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê |
| **–ü—Ä–æ—Å—Ç–æ—Ç–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏** | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê |
| **–ì–∏–±–∫–æ—Å—Ç—å —Ñ–∏–ª—å—Ç—Ä–æ–≤** | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê |
| **–¢—Ä–µ–±—É–µ—Ç –æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å** | –î–∞ (–ª–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π) | –î–∞ (PostgreSQL) | –ù–µ—Ç (embedded) |
| **SQL –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** | –ù–µ—Ç (REST API) | –î–∞ | –ù–µ—Ç (Python API) |

---

## –ò—Ç–æ–≥–æ–≤–∞—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è

### ‚úÖ **–í—ã–±–æ—Ä: Qdrant**

**–ü—Ä–∏—á–∏–Ω—ã:**
1. –û–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –∏ –ø—Ä–æ—Å—Ç–æ—Ç—ã
2. –ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–∏—Å–∫ –∏–∑ –∫–æ—Ä–æ–±–∫–∏
3. –ü—Ä–æ—Å—Ç–æ—Ç–∞ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è (1 Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä)
4. –û—Ç–ª–∏—á–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–ª—è –≤–∞—à–µ–≥–æ –æ–±—ä–µ–º–∞
5. –ù–µ —Ç—Ä–µ–±—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (PostgreSQL)

**–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Qdrant (Docker)
2. –í—ã–±—Ä–∞—Ç—å –º–æ–¥–µ–ª—å —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤ (`intfloat/multilingual-e5-large`)
3. –°–æ–∑–¥–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –∑–∞–≥—Ä—É–∑–∫–∏ kb_billing –≤ Qdrant
4. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≥–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–∏—Å–∫ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö

---

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [Qdrant Documentation](https://qdrant.tech/documentation/)
- [Qdrant Python Client](https://github.com/qdrant/qdrant-client)
- [Multilingual E5 Models](https://huggingface.co/intfloat/multilingual-e5-large)
- [Sentence Transformers](https://www.sbert.net/)












